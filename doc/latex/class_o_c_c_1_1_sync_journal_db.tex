\hypertarget{class_o_c_c_1_1_sync_journal_db}{}\section{O\+CC\+:\+:Sync\+Journal\+Db类 参考}
\label{class_o_c_c_1_1_sync_journal_db}\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}


Class that handles the sync database  




{\ttfamily \#include $<$syncjournaldb.\+h$>$}

类 O\+CC\+:\+:Sync\+Journal\+Db 继承关系图\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_o_c_c_1_1_sync_journal_db}
\end{center}
\end{figure}
\subsection*{类}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_o_c_c_1_1_sync_journal_db_1_1_download_info}{Download\+Info}
\item 
struct \hyperlink{struct_o_c_c_1_1_sync_journal_db_1_1_poll_info}{Poll\+Info}
\item 
struct \hyperlink{struct_o_c_c_1_1_sync_journal_db_1_1_upload_info}{Upload\+Info}
\end{DoxyCompactItemize}
\subsection*{Public 类型}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{class_o_c_c_1_1_sync_journal_db_ad028daa35155c92ce2e3863602f9feeb}{Selective\+Sync\+List\+Type} \{ \hyperlink{class_o_c_c_1_1_sync_journal_db_ad028daa35155c92ce2e3863602f9feeba98dd47e8a926a0f583bad94b8ed14d8e}{Selective\+Sync\+Black\+List} = 1, 
\hyperlink{class_o_c_c_1_1_sync_journal_db_ad028daa35155c92ce2e3863602f9feeba941c6950705cde6618226bfbfceab05f}{Selective\+Sync\+White\+List} = 2, 
\hyperlink{class_o_c_c_1_1_sync_journal_db_ad028daa35155c92ce2e3863602f9feeba524d06fd4067567f5469b24e5b2dc5ec}{Selective\+Sync\+Undecided\+List} = 3
 \}
\end{DoxyCompactItemize}
\subsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_o_c_c_1_1_sync_journal_db_a1335b544f6e170d466a21a739e0aea96}{Sync\+Journal\+Db} (const Q\+String \&db\+File\+Path, Q\+Object $\ast$parent=0)
\item 
virtual \hyperlink{class_o_c_c_1_1_sync_journal_db_a305a2bd1df1bbcaaffa4ba3744521bcd}{$\sim$\+Sync\+Journal\+Db} ()
\item 
\hyperlink{class_o_c_c_1_1_sync_journal_file_record}{Sync\+Journal\+File\+Record} \hyperlink{class_o_c_c_1_1_sync_journal_db_a43d7f9c88a73d50ec0324b8549a857ef}{get\+File\+Record} (const Q\+String \&filename)
\item 
bool \hyperlink{class_o_c_c_1_1_sync_journal_db_a7cda6a2adf1377b4a45f97cc2709c6fe}{set\+File\+Record} (const \hyperlink{class_o_c_c_1_1_sync_journal_file_record}{Sync\+Journal\+File\+Record} \&record)
\item 
bool \hyperlink{class_o_c_c_1_1_sync_journal_db_a8e993d611a0de32fa32c478efd629474}{set\+File\+Record\+Metadata} (const \hyperlink{class_o_c_c_1_1_sync_journal_file_record}{Sync\+Journal\+File\+Record} \&record)
\begin{DoxyCompactList}\small\item\em Like set\+File\+Record, but preserves checksums \end{DoxyCompactList}\item 
bool \hyperlink{class_o_c_c_1_1_sync_journal_db_aa563a639f4347a39658070eb430e4fee}{delete\+File\+Record} (const Q\+String \&filename, bool recursively=false)
\item 
int \hyperlink{class_o_c_c_1_1_sync_journal_db_ac51cba5b6c8d89f470c33758c2d24517}{get\+File\+Record\+Count} ()
\item 
bool \hyperlink{class_o_c_c_1_1_sync_journal_db_a9ebef1639495b1e4a3a1020398398e3e}{update\+File\+Record\+Checksum} (const Q\+String \&filename, const Q\+Byte\+Array \&content\+Checksum, const Q\+Byte\+Array \&\hyperlink{namespace_o_c_c_a6341c56b4b72b2fcc60449285f9f7c38}{content\+Checksum\+Type})
\item 
bool \hyperlink{class_o_c_c_1_1_sync_journal_db_a10e0e51ee7737909a9819752809ea29d}{update\+Local\+Metadata} (const Q\+String \&filename, qint64 modtime, quint64 size, quint64 inode)
\item 
bool \hyperlink{class_o_c_c_1_1_sync_journal_db_ace634d7c2f7e3e95a14c1fa8611ea215}{exists} ()
\item 
void \hyperlink{class_o_c_c_1_1_sync_journal_db_a30d98508c16ced8a1ea460df3e54194c}{wal\+Checkpoint} ()
\item 
Q\+String \hyperlink{class_o_c_c_1_1_sync_journal_db_a3dd0360e8746b45637c1272ee53a775c}{database\+File\+Path} () const
\item 
void \hyperlink{class_o_c_c_1_1_sync_journal_db_a0781a2d4c5bb4dae808669d5a9fa4c87}{update\+Error\+Blacklist\+Entry} (const \hyperlink{class_o_c_c_1_1_sync_journal_error_blacklist_record}{Sync\+Journal\+Error\+Blacklist\+Record} \&item)
\item 
void \hyperlink{class_o_c_c_1_1_sync_journal_db_acc9083fdf5df19c2ed20f1bc8f907e78}{wipe\+Error\+Blacklist\+Entry} (const Q\+String \&file)
\item 
int \hyperlink{class_o_c_c_1_1_sync_journal_db_a7e0b5118926f33ed5cf4d4774a7c820d}{wipe\+Error\+Blacklist} ()
\item 
int \hyperlink{class_o_c_c_1_1_sync_journal_db_ad805febce9478b797ae3b7ba3fb8e15c}{error\+Black\+List\+Entry\+Count} ()
\item 
\hyperlink{struct_o_c_c_1_1_sync_journal_db_1_1_download_info}{Download\+Info} \hyperlink{class_o_c_c_1_1_sync_journal_db_aa90392931d3abcb21044a64edaa412f8}{get\+Download\+Info} (const Q\+String \&file)
\item 
void \hyperlink{class_o_c_c_1_1_sync_journal_db_ae9abb5e0f59f6df27f42153cd1df6944}{set\+Download\+Info} (const Q\+String \&file, const \hyperlink{struct_o_c_c_1_1_sync_journal_db_1_1_download_info}{Download\+Info} \&i)
\item 
Q\+Vector$<$ \hyperlink{struct_o_c_c_1_1_sync_journal_db_1_1_download_info}{Download\+Info} $>$ \hyperlink{class_o_c_c_1_1_sync_journal_db_aff78b5f83a2f1947a4efb15b3a57df42}{get\+And\+Delete\+Stale\+Download\+Infos} (const Q\+Set$<$ Q\+String $>$ \&keep)
\item 
int \hyperlink{class_o_c_c_1_1_sync_journal_db_ab1dbe87c365d82791623d51fb022ac68}{download\+Info\+Count} ()
\item 
\hyperlink{struct_o_c_c_1_1_sync_journal_db_1_1_upload_info}{Upload\+Info} \hyperlink{class_o_c_c_1_1_sync_journal_db_a290ee947b52ca710308adaa59441c95d}{get\+Upload\+Info} (const Q\+String \&file)
\item 
void \hyperlink{class_o_c_c_1_1_sync_journal_db_a7a5b11baa13b62617fe72bacaf07b0bc}{set\+Upload\+Info} (const Q\+String \&file, const \hyperlink{struct_o_c_c_1_1_sync_journal_db_1_1_upload_info}{Upload\+Info} \&i)
\item 
bool \hyperlink{class_o_c_c_1_1_sync_journal_db_aea8fe60340218735f840cecb952b3948}{delete\+Stale\+Upload\+Infos} (const Q\+Set$<$ Q\+String $>$ \&keep)
\item 
\hyperlink{class_o_c_c_1_1_sync_journal_error_blacklist_record}{Sync\+Journal\+Error\+Blacklist\+Record} \hyperlink{class_o_c_c_1_1_sync_journal_db_a066b31be221ca33165db386208673979}{error\+Blacklist\+Entry} (const Q\+String \&)
\item 
bool \hyperlink{class_o_c_c_1_1_sync_journal_db_a16682d689dae80bff044d8c3f877cf1b}{delete\+Stale\+Error\+Blacklist\+Entries} (const Q\+Set$<$ Q\+String $>$ \&keep)
\item 
void \hyperlink{class_o_c_c_1_1_sync_journal_db_a8d5610b0467f17341f81071495d4721e}{avoid\+Renames\+On\+Next\+Sync} (const Q\+String \&path)
\item 
void \hyperlink{class_o_c_c_1_1_sync_journal_db_a9a7cc2345914fbe7b636c2d05ba2400c}{set\+Poll\+Info} (const \hyperlink{struct_o_c_c_1_1_sync_journal_db_1_1_poll_info}{Poll\+Info} \&)
\item 
Q\+Vector$<$ \hyperlink{struct_o_c_c_1_1_sync_journal_db_1_1_poll_info}{Poll\+Info} $>$ \hyperlink{class_o_c_c_1_1_sync_journal_db_adc7300cb856925824df1fa51c2dda4b4}{get\+Poll\+Infos} ()
\item 
Q\+String\+List \hyperlink{class_o_c_c_1_1_sync_journal_db_a82c108d27041377d63d12dea53ac7d00}{get\+Selective\+Sync\+List} (\hyperlink{class_o_c_c_1_1_sync_journal_db_ad028daa35155c92ce2e3863602f9feeb}{Selective\+Sync\+List\+Type} type, bool $\ast$ok)
\item 
void \hyperlink{class_o_c_c_1_1_sync_journal_db_acc27e00e5daa1643fe9c356e7c4bb34e}{set\+Selective\+Sync\+List} (\hyperlink{class_o_c_c_1_1_sync_journal_db_ad028daa35155c92ce2e3863602f9feeb}{Selective\+Sync\+List\+Type} type, const Q\+String\+List \&list)
\item 
void \hyperlink{class_o_c_c_1_1_sync_journal_db_ad4c2934c23bd1a1a66bb41cb6d928b95}{avoid\+Read\+From\+Db\+On\+Next\+Sync} (const Q\+String \&file\+Name)
\item 
void \hyperlink{class_o_c_c_1_1_sync_journal_db_ac77ec536863d991f3fe736a397f538a7}{force\+Remote\+Discovery\+Next\+Sync} ()
\item 
bool \hyperlink{class_o_c_c_1_1_sync_journal_db_ab422af01a298b8ef1ffabb4c7bc9401e}{post\+Sync\+Cleanup} (const Q\+Set$<$ Q\+String $>$ \&filepaths\+To\+Keep, const Q\+Set$<$ Q\+String $>$ \&prefixes\+To\+Keep)
\item 
void \hyperlink{class_o_c_c_1_1_sync_journal_db_abc860738e2fc503e774fbc4a1c07d0a6}{commit} (const Q\+String \&context, bool start\+Trans=true)
\item 
void \hyperlink{class_o_c_c_1_1_sync_journal_db_ad975c5079cb5539b184f4d32424b2e7e}{commit\+If\+Needed\+And\+Start\+New\+Transaction} (const Q\+String \&context)
\item 
void \hyperlink{class_o_c_c_1_1_sync_journal_db_ad461815eba053b872d0b1228aa878438}{close} ()
\item 
bool \hyperlink{class_o_c_c_1_1_sync_journal_db_af8aad831c9b88a6f7b94679052b609c6}{is\+Connected} ()
\item 
Q\+Byte\+Array \hyperlink{class_o_c_c_1_1_sync_journal_db_ac8137d253a83ed1da2668ea5304bfc6b}{get\+Checksum\+Type} (int checksum\+Type\+Id)
\item 
void \hyperlink{class_o_c_c_1_1_sync_journal_db_a7ce0cd84162e54d80d4b702dad8bc741}{set\+Data\+Fingerprint} (const Q\+Byte\+Array \&\hyperlink{class_o_c_c_1_1_sync_journal_db_a98354870e6087206a9cf78cc1ee67d63}{data\+Fingerprint})
\item 
Q\+Byte\+Array \hyperlink{class_o_c_c_1_1_sync_journal_db_a98354870e6087206a9cf78cc1ee67d63}{data\+Fingerprint} ()
\end{DoxyCompactItemize}
\subsection*{静态 Public 成员函数}
\begin{DoxyCompactItemize}
\item 
static Q\+String \hyperlink{class_o_c_c_1_1_sync_journal_db_a74484fe7189b49c70d9ee04c53cfa198}{make\+Db\+Name} (const Q\+Url \&remote\+Url, const Q\+String \&remote\+Path, const Q\+String \&user)
\begin{DoxyCompactList}\small\item\em Create a journal path for a specific configuration \end{DoxyCompactList}\item 
static bool \hyperlink{class_o_c_c_1_1_sync_journal_db_af2385a1c48b7890187404a190f3a31f7}{maybe\+Migrate\+Db} (const Q\+String \&local\+Path, const Q\+String \&absolute\+Journal\+Path)
\begin{DoxyCompactList}\small\item\em Migrate a csync\+\_\+journal to the new path, if necessary. Returns false on error \end{DoxyCompactList}\item 
static qint64 \hyperlink{class_o_c_c_1_1_sync_journal_db_a134fb865751cbb37dfbf67977c5e58b5}{get\+P\+Hash} (const Q\+String \&)
\end{DoxyCompactItemize}


\subsection{详细描述}
Class that handles the sync database 

This class is thread safe. All public functions lock the mutex. 

在文件 syncjournaldb.\+h 第 36 行定义.



\subsection{成员枚举类型说明}
\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_ad028daa35155c92ce2e3863602f9feeb}\label{class_o_c_c_1_1_sync_journal_db_ad028daa35155c92ce2e3863602f9feeb}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!Selective\+Sync\+List\+Type@{Selective\+Sync\+List\+Type}}
\index{Selective\+Sync\+List\+Type@{Selective\+Sync\+List\+Type}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{Selective\+Sync\+List\+Type}{SelectiveSyncListType}}
{\footnotesize\ttfamily enum \hyperlink{class_o_c_c_1_1_sync_journal_db_ad028daa35155c92ce2e3863602f9feeb}{O\+C\+C\+::\+Sync\+Journal\+Db\+::\+Selective\+Sync\+List\+Type}}

\begin{DoxyEnumFields}{枚举值}
\raisebox{\heightof{T}}[0pt][0pt]{\index{Selective\+Sync\+Black\+List@{Selective\+Sync\+Black\+List}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!Selective\+Sync\+Black\+List@{Selective\+Sync\+Black\+List}}}\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_ad028daa35155c92ce2e3863602f9feeba98dd47e8a926a0f583bad94b8ed14d8e}\label{class_o_c_c_1_1_sync_journal_db_ad028daa35155c92ce2e3863602f9feeba98dd47e8a926a0f583bad94b8ed14d8e}} 
Selective\+Sync\+Black\+List&The black list is the list of folders that are unselected in the selective sync dialog. For the sync engine, those folders are considered as if they were not there, so the local folders will be deleted \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Selective\+Sync\+White\+List@{Selective\+Sync\+White\+List}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!Selective\+Sync\+White\+List@{Selective\+Sync\+White\+List}}}\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_ad028daa35155c92ce2e3863602f9feeba941c6950705cde6618226bfbfceab05f}\label{class_o_c_c_1_1_sync_journal_db_ad028daa35155c92ce2e3863602f9feeba941c6950705cde6618226bfbfceab05f}} 
Selective\+Sync\+White\+List&When a shared folder has a size bigger than a configured size, it is by default not sync\textquotesingle{}ed Unless it is in the white list, in which case the folder is sync\textquotesingle{}ed and all its children. If a folder is both on the black and the white list, the black list wins \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Selective\+Sync\+Undecided\+List@{Selective\+Sync\+Undecided\+List}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!Selective\+Sync\+Undecided\+List@{Selective\+Sync\+Undecided\+List}}}\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_ad028daa35155c92ce2e3863602f9feeba524d06fd4067567f5469b24e5b2dc5ec}\label{class_o_c_c_1_1_sync_journal_db_ad028daa35155c92ce2e3863602f9feeba524d06fd4067567f5469b24e5b2dc5ec}} 
Selective\+Sync\+Undecided\+List&List of big sync folders that have not been confirmed by the user yet and that the UI should notify about \\
\hline

\end{DoxyEnumFields}


在文件 syncjournaldb.\+h 第 117 行定义.



\subsection{构造及析构函数说明}
\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_a1335b544f6e170d466a21a739e0aea96}\label{class_o_c_c_1_1_sync_journal_db_a1335b544f6e170d466a21a739e0aea96}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!Sync\+Journal\+Db@{Sync\+Journal\+Db}}
\index{Sync\+Journal\+Db@{Sync\+Journal\+Db}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{Sync\+Journal\+Db()}{SyncJournalDb()}}
{\footnotesize\ttfamily O\+C\+C\+::\+Sync\+Journal\+Db\+::\+Sync\+Journal\+Db (\begin{DoxyParamCaption}\item[{const Q\+String \&}]{db\+File\+Path,  }\item[{Q\+Object $\ast$}]{parent = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



在文件 syncjournaldb.\+cpp 第 35 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_a305a2bd1df1bbcaaffa4ba3744521bcd}\label{class_o_c_c_1_1_sync_journal_db_a305a2bd1df1bbcaaffa4ba3744521bcd}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!````~Sync\+Journal\+Db@{$\sim$\+Sync\+Journal\+Db}}
\index{````~Sync\+Journal\+Db@{$\sim$\+Sync\+Journal\+Db}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{$\sim$\+Sync\+Journal\+Db()}{~SyncJournalDb()}}
{\footnotesize\ttfamily O\+C\+C\+::\+Sync\+Journal\+Db\+::$\sim$\+Sync\+Journal\+Db (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



在文件 syncjournaldb.\+cpp 第 1834 行定义.



\subsection{成员函数说明}
\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_ad4c2934c23bd1a1a66bb41cb6d928b95}\label{class_o_c_c_1_1_sync_journal_db_ad4c2934c23bd1a1a66bb41cb6d928b95}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!avoid\+Read\+From\+Db\+On\+Next\+Sync@{avoid\+Read\+From\+Db\+On\+Next\+Sync}}
\index{avoid\+Read\+From\+Db\+On\+Next\+Sync@{avoid\+Read\+From\+Db\+On\+Next\+Sync}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{avoid\+Read\+From\+Db\+On\+Next\+Sync()}{avoidReadFromDbOnNextSync()}}
{\footnotesize\ttfamily void O\+C\+C\+::\+Sync\+Journal\+Db\+::avoid\+Read\+From\+Db\+On\+Next\+Sync (\begin{DoxyParamCaption}\item[{const Q\+String \&}]{file\+Name }\end{DoxyParamCaption})}

Make sure that on the next sync, file\+Name is not read from the DB but uses the P\+R\+O\+P\+F\+I\+ND to get the info from the server 

在文件 syncjournaldb.\+cpp 第 1655 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_a8d5610b0467f17341f81071495d4721e}\label{class_o_c_c_1_1_sync_journal_db_a8d5610b0467f17341f81071495d4721e}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!avoid\+Renames\+On\+Next\+Sync@{avoid\+Renames\+On\+Next\+Sync}}
\index{avoid\+Renames\+On\+Next\+Sync@{avoid\+Renames\+On\+Next\+Sync}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{avoid\+Renames\+On\+Next\+Sync()}{avoidRenamesOnNextSync()}}
{\footnotesize\ttfamily void O\+C\+C\+::\+Sync\+Journal\+Db\+::avoid\+Renames\+On\+Next\+Sync (\begin{DoxyParamCaption}\item[{const Q\+String \&}]{path }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 1631 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_ad461815eba053b872d0b1228aa878438}\label{class_o_c_c_1_1_sync_journal_db_ad461815eba053b872d0b1228aa878438}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!close@{close}}
\index{close@{close}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{close()}{close()}}
{\footnotesize\ttfamily void O\+C\+C\+::\+Sync\+Journal\+Db\+::close (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 571 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_abc860738e2fc503e774fbc4a1c07d0a6}\label{class_o_c_c_1_1_sync_journal_db_abc860738e2fc503e774fbc4a1c07d0a6}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!commit@{commit}}
\index{commit@{commit}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{commit()}{commit()}}
{\footnotesize\ttfamily void O\+C\+C\+::\+Sync\+Journal\+Db\+::commit (\begin{DoxyParamCaption}\item[{const Q\+String \&}]{context,  }\item[{bool}]{start\+Trans = {\ttfamily true} }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 1807 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_ad975c5079cb5539b184f4d32424b2e7e}\label{class_o_c_c_1_1_sync_journal_db_ad975c5079cb5539b184f4d32424b2e7e}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!commit\+If\+Needed\+And\+Start\+New\+Transaction@{commit\+If\+Needed\+And\+Start\+New\+Transaction}}
\index{commit\+If\+Needed\+And\+Start\+New\+Transaction@{commit\+If\+Needed\+And\+Start\+New\+Transaction}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{commit\+If\+Needed\+And\+Start\+New\+Transaction()}{commitIfNeededAndStartNewTransaction()}}
{\footnotesize\ttfamily void O\+C\+C\+::\+Sync\+Journal\+Db\+::commit\+If\+Needed\+And\+Start\+New\+Transaction (\begin{DoxyParamCaption}\item[{const Q\+String \&}]{context }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 1813 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_a3dd0360e8746b45637c1272ee53a775c}\label{class_o_c_c_1_1_sync_journal_db_a3dd0360e8746b45637c1272ee53a775c}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!database\+File\+Path@{database\+File\+Path}}
\index{database\+File\+Path@{database\+File\+Path}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{database\+File\+Path()}{databaseFilePath()}}
{\footnotesize\ttfamily Q\+String O\+C\+C\+::\+Sync\+Journal\+Db\+::database\+File\+Path (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



在文件 syncjournaldb.\+cpp 第 100 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_a98354870e6087206a9cf78cc1ee67d63}\label{class_o_c_c_1_1_sync_journal_db_a98354870e6087206a9cf78cc1ee67d63}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!data\+Fingerprint@{data\+Fingerprint}}
\index{data\+Fingerprint@{data\+Fingerprint}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{data\+Fingerprint()}{dataFingerprint()}}
{\footnotesize\ttfamily Q\+Byte\+Array O\+C\+C\+::\+Sync\+Journal\+Db\+::data\+Fingerprint (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 1763 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_aa563a639f4347a39658070eb430e4fee}\label{class_o_c_c_1_1_sync_journal_db_aa563a639f4347a39658070eb430e4fee}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!delete\+File\+Record@{delete\+File\+Record}}
\index{delete\+File\+Record@{delete\+File\+Record}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{delete\+File\+Record()}{deleteFileRecord()}}
{\footnotesize\ttfamily bool O\+C\+C\+::\+Sync\+Journal\+Db\+::delete\+File\+Record (\begin{DoxyParamCaption}\item[{const Q\+String \&}]{filename,  }\item[{bool}]{recursively = {\ttfamily false} }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 866 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_a16682d689dae80bff044d8c3f877cf1b}\label{class_o_c_c_1_1_sync_journal_db_a16682d689dae80bff044d8c3f877cf1b}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!delete\+Stale\+Error\+Blacklist\+Entries@{delete\+Stale\+Error\+Blacklist\+Entries}}
\index{delete\+Stale\+Error\+Blacklist\+Entries@{delete\+Stale\+Error\+Blacklist\+Entries}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{delete\+Stale\+Error\+Blacklist\+Entries()}{deleteStaleErrorBlacklistEntries()}}
{\footnotesize\ttfamily bool O\+C\+C\+::\+Sync\+Journal\+Db\+::delete\+Stale\+Error\+Blacklist\+Entries (\begin{DoxyParamCaption}\item[{const Q\+Set$<$ Q\+String $>$ \&}]{keep }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 1407 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_aea8fe60340218735f840cecb952b3948}\label{class_o_c_c_1_1_sync_journal_db_aea8fe60340218735f840cecb952b3948}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!delete\+Stale\+Upload\+Infos@{delete\+Stale\+Upload\+Infos}}
\index{delete\+Stale\+Upload\+Infos@{delete\+Stale\+Upload\+Infos}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{delete\+Stale\+Upload\+Infos()}{deleteStaleUploadInfos()}}
{\footnotesize\ttfamily bool O\+C\+C\+::\+Sync\+Journal\+Db\+::delete\+Stale\+Upload\+Infos (\begin{DoxyParamCaption}\item[{const Q\+Set$<$ Q\+String $>$ \&}]{keep }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 1345 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_ab1dbe87c365d82791623d51fb022ac68}\label{class_o_c_c_1_1_sync_journal_db_ab1dbe87c365d82791623d51fb022ac68}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!download\+Info\+Count@{download\+Info\+Count}}
\index{download\+Info\+Count@{download\+Info\+Count}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{download\+Info\+Count()}{downloadInfoCount()}}
{\footnotesize\ttfamily int O\+C\+C\+::\+Sync\+Journal\+Db\+::download\+Info\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 1259 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_a066b31be221ca33165db386208673979}\label{class_o_c_c_1_1_sync_journal_db_a066b31be221ca33165db386208673979}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!error\+Blacklist\+Entry@{error\+Blacklist\+Entry}}
\index{error\+Blacklist\+Entry@{error\+Blacklist\+Entry}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{error\+Blacklist\+Entry()}{errorBlacklistEntry()}}
{\footnotesize\ttfamily \hyperlink{class_o_c_c_1_1_sync_journal_error_blacklist_record}{Sync\+Journal\+Error\+Blacklist\+Record} O\+C\+C\+::\+Sync\+Journal\+Db\+::error\+Blacklist\+Entry (\begin{DoxyParamCaption}\item[{const Q\+String \&}]{file }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 1374 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_ad805febce9478b797ae3b7ba3fb8e15c}\label{class_o_c_c_1_1_sync_journal_db_ad805febce9478b797ae3b7ba3fb8e15c}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!error\+Black\+List\+Entry\+Count@{error\+Black\+List\+Entry\+Count}}
\index{error\+Black\+List\+Entry\+Count@{error\+Black\+List\+Entry\+Count}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{error\+Black\+List\+Entry\+Count()}{errorBlackListEntryCount()}}
{\footnotesize\ttfamily int O\+C\+C\+::\+Sync\+Journal\+Db\+::error\+Black\+List\+Entry\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 1438 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_ace634d7c2f7e3e95a14c1fa8611ea215}\label{class_o_c_c_1_1_sync_journal_db_ace634d7c2f7e3e95a14c1fa8611ea215}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!exists@{exists}}
\index{exists@{exists}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{exists()}{exists()}}
{\footnotesize\ttfamily bool O\+C\+C\+::\+Sync\+Journal\+Db\+::exists (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 94 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_ac77ec536863d991f3fe736a397f538a7}\label{class_o_c_c_1_1_sync_journal_db_ac77ec536863d991f3fe736a397f538a7}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!force\+Remote\+Discovery\+Next\+Sync@{force\+Remote\+Discovery\+Next\+Sync}}
\index{force\+Remote\+Discovery\+Next\+Sync@{force\+Remote\+Discovery\+Next\+Sync}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{force\+Remote\+Discovery\+Next\+Sync()}{forceRemoteDiscoveryNextSync()}}
{\footnotesize\ttfamily void O\+C\+C\+::\+Sync\+Journal\+Db\+::force\+Remote\+Discovery\+Next\+Sync (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Ensures full remote discovery happens on the next sync.

Equivalent to calling \hyperlink{class_o_c_c_1_1_sync_journal_db_ad4c2934c23bd1a1a66bb41cb6d928b95}{avoid\+Read\+From\+Db\+On\+Next\+Sync()} for all files. 

在文件 syncjournaldb.\+cpp 第 1681 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_aff78b5f83a2f1947a4efb15b3a57df42}\label{class_o_c_c_1_1_sync_journal_db_aff78b5f83a2f1947a4efb15b3a57df42}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!get\+And\+Delete\+Stale\+Download\+Infos@{get\+And\+Delete\+Stale\+Download\+Infos}}
\index{get\+And\+Delete\+Stale\+Download\+Infos@{get\+And\+Delete\+Stale\+Download\+Infos}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{get\+And\+Delete\+Stale\+Download\+Infos()}{getAndDeleteStaleDownloadInfos()}}
{\footnotesize\ttfamily Q\+Vector$<$ \hyperlink{struct_o_c_c_1_1_sync_journal_db_1_1_download_info}{Sync\+Journal\+Db\+::\+Download\+Info} $>$ O\+C\+C\+::\+Sync\+Journal\+Db\+::get\+And\+Delete\+Stale\+Download\+Infos (\begin{DoxyParamCaption}\item[{const Q\+Set$<$ Q\+String $>$ \&}]{keep }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 1221 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_ac8137d253a83ed1da2668ea5304bfc6b}\label{class_o_c_c_1_1_sync_journal_db_ac8137d253a83ed1da2668ea5304bfc6b}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!get\+Checksum\+Type@{get\+Checksum\+Type}}
\index{get\+Checksum\+Type@{get\+Checksum\+Type}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{get\+Checksum\+Type()}{getChecksumType()}}
{\footnotesize\ttfamily Q\+Byte\+Array O\+C\+C\+::\+Sync\+Journal\+Db\+::get\+Checksum\+Type (\begin{DoxyParamCaption}\item[{int}]{checksum\+Type\+Id }\end{DoxyParamCaption})}

Returns the checksum type for an id. 

在文件 syncjournaldb.\+cpp 第 1705 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_aa90392931d3abcb21044a64edaa412f8}\label{class_o_c_c_1_1_sync_journal_db_aa90392931d3abcb21044a64edaa412f8}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!get\+Download\+Info@{get\+Download\+Info}}
\index{get\+Download\+Info@{get\+Download\+Info}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{get\+Download\+Info()}{getDownloadInfo()}}
{\footnotesize\ttfamily \hyperlink{struct_o_c_c_1_1_sync_journal_db_1_1_download_info}{Sync\+Journal\+Db\+::\+Download\+Info} O\+C\+C\+::\+Sync\+Journal\+Db\+::get\+Download\+Info (\begin{DoxyParamCaption}\item[{const Q\+String \&}]{file }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 1159 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_a43d7f9c88a73d50ec0324b8549a857ef}\label{class_o_c_c_1_1_sync_journal_db_a43d7f9c88a73d50ec0324b8549a857ef}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!get\+File\+Record@{get\+File\+Record}}
\index{get\+File\+Record@{get\+File\+Record}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{get\+File\+Record()}{getFileRecord()}}
{\footnotesize\ttfamily \hyperlink{class_o_c_c_1_1_sync_journal_file_record}{Sync\+Journal\+File\+Record} O\+C\+C\+::\+Sync\+Journal\+Db\+::get\+File\+Record (\begin{DoxyParamCaption}\item[{const Q\+String \&}]{filename }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 906 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_ac51cba5b6c8d89f470c33758c2d24517}\label{class_o_c_c_1_1_sync_journal_db_ac51cba5b6c8d89f470c33758c2d24517}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!get\+File\+Record\+Count@{get\+File\+Record\+Count}}
\index{get\+File\+Record\+Count@{get\+File\+Record\+Count}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{get\+File\+Record\+Count()}{getFileRecordCount()}}
{\footnotesize\ttfamily int O\+C\+C\+::\+Sync\+Journal\+Db\+::get\+File\+Record\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 1014 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_a134fb865751cbb37dfbf67977c5e58b5}\label{class_o_c_c_1_1_sync_journal_db_a134fb865751cbb37dfbf67977c5e58b5}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!get\+P\+Hash@{get\+P\+Hash}}
\index{get\+P\+Hash@{get\+P\+Hash}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{get\+P\+Hash()}{getPHash()}}
{\footnotesize\ttfamily qint64 O\+C\+C\+::\+Sync\+Journal\+Db\+::get\+P\+Hash (\begin{DoxyParamCaption}\item[{const Q\+String \&}]{file }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



在文件 syncjournaldb.\+cpp 第 785 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_adc7300cb856925824df1fa51c2dda4b4}\label{class_o_c_c_1_1_sync_journal_db_adc7300cb856925824df1fa51c2dda4b4}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!get\+Poll\+Infos@{get\+Poll\+Infos}}
\index{get\+Poll\+Infos@{get\+Poll\+Infos}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{get\+Poll\+Infos()}{getPollInfos()}}
{\footnotesize\ttfamily Q\+Vector$<$ \hyperlink{struct_o_c_c_1_1_sync_journal_db_1_1_poll_info}{Sync\+Journal\+Db\+::\+Poll\+Info} $>$ O\+C\+C\+::\+Sync\+Journal\+Db\+::get\+Poll\+Infos (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 1518 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_a82c108d27041377d63d12dea53ac7d00}\label{class_o_c_c_1_1_sync_journal_db_a82c108d27041377d63d12dea53ac7d00}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!get\+Selective\+Sync\+List@{get\+Selective\+Sync\+List}}
\index{get\+Selective\+Sync\+List@{get\+Selective\+Sync\+List}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{get\+Selective\+Sync\+List()}{getSelectiveSyncList()}}
{\footnotesize\ttfamily Q\+String\+List O\+C\+C\+::\+Sync\+Journal\+Db\+::get\+Selective\+Sync\+List (\begin{DoxyParamCaption}\item[{\hyperlink{class_o_c_c_1_1_sync_journal_db_ad028daa35155c92ce2e3863602f9feeb}{Sync\+Journal\+Db\+::\+Selective\+Sync\+List\+Type}}]{type,  }\item[{bool $\ast$}]{ok }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 1576 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_a290ee947b52ca710308adaa59441c95d}\label{class_o_c_c_1_1_sync_journal_db_a290ee947b52ca710308adaa59441c95d}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!get\+Upload\+Info@{get\+Upload\+Info}}
\index{get\+Upload\+Info@{get\+Upload\+Info}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{get\+Upload\+Info()}{getUploadInfo()}}
{\footnotesize\ttfamily \hyperlink{struct_o_c_c_1_1_sync_journal_db_1_1_upload_info}{Sync\+Journal\+Db\+::\+Upload\+Info} O\+C\+C\+::\+Sync\+Journal\+Db\+::get\+Upload\+Info (\begin{DoxyParamCaption}\item[{const Q\+String \&}]{file }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 1277 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_af8aad831c9b88a6f7b94679052b609c6}\label{class_o_c_c_1_1_sync_journal_db_af8aad831c9b88a6f7b94679052b609c6}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!is\+Connected@{is\+Connected}}
\index{is\+Connected@{is\+Connected}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{is\+Connected()}{isConnected()}}
{\footnotesize\ttfamily bool O\+C\+C\+::\+Sync\+Journal\+Db\+::is\+Connected (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

return true if everything is correct 

在文件 syncjournaldb.\+cpp 第 1839 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_a74484fe7189b49c70d9ee04c53cfa198}\label{class_o_c_c_1_1_sync_journal_db_a74484fe7189b49c70d9ee04c53cfa198}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!make\+Db\+Name@{make\+Db\+Name}}
\index{make\+Db\+Name@{make\+Db\+Name}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{make\+Db\+Name()}{makeDbName()}}
{\footnotesize\ttfamily Q\+String O\+C\+C\+::\+Sync\+Journal\+Db\+::make\+Db\+Name (\begin{DoxyParamCaption}\item[{const Q\+Url \&}]{remote\+Url,  }\item[{const Q\+String \&}]{remote\+Path,  }\item[{const Q\+String \&}]{user }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Create a journal path for a specific configuration 



在文件 syncjournaldb.\+cpp 第 43 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_af2385a1c48b7890187404a190f3a31f7}\label{class_o_c_c_1_1_sync_journal_db_af2385a1c48b7890187404a190f3a31f7}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!maybe\+Migrate\+Db@{maybe\+Migrate\+Db}}
\index{maybe\+Migrate\+Db@{maybe\+Migrate\+Db}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{maybe\+Migrate\+Db()}{maybeMigrateDb()}}
{\footnotesize\ttfamily bool O\+C\+C\+::\+Sync\+Journal\+Db\+::maybe\+Migrate\+Db (\begin{DoxyParamCaption}\item[{const Q\+String \&}]{local\+Path,  }\item[{const Q\+String \&}]{absolute\+Journal\+Path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Migrate a csync\+\_\+journal to the new path, if necessary. Returns false on error 



在文件 syncjournaldb.\+cpp 第 61 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_ab422af01a298b8ef1ffabb4c7bc9401e}\label{class_o_c_c_1_1_sync_journal_db_ab422af01a298b8ef1ffabb4c7bc9401e}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!post\+Sync\+Cleanup@{post\+Sync\+Cleanup}}
\index{post\+Sync\+Cleanup@{post\+Sync\+Cleanup}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{post\+Sync\+Cleanup()}{postSyncCleanup()}}
{\footnotesize\ttfamily bool O\+C\+C\+::\+Sync\+Journal\+Db\+::post\+Sync\+Cleanup (\begin{DoxyParamCaption}\item[{const Q\+Set$<$ Q\+String $>$ \&}]{filepaths\+To\+Keep,  }\item[{const Q\+Set$<$ Q\+String $>$ \&}]{prefixes\+To\+Keep }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 960 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_a7ce0cd84162e54d80d4b702dad8bc741}\label{class_o_c_c_1_1_sync_journal_db_a7ce0cd84162e54d80d4b702dad8bc741}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!set\+Data\+Fingerprint@{set\+Data\+Fingerprint}}
\index{set\+Data\+Fingerprint@{set\+Data\+Fingerprint}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{set\+Data\+Fingerprint()}{setDataFingerprint()}}
{\footnotesize\ttfamily void O\+C\+C\+::\+Sync\+Journal\+Db\+::set\+Data\+Fingerprint (\begin{DoxyParamCaption}\item[{const Q\+Byte\+Array \&}]{data\+Fingerprint }\end{DoxyParamCaption})}

The data-\/fingerprint used to detect backup 

在文件 syncjournaldb.\+cpp 第 1784 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_ae9abb5e0f59f6df27f42153cd1df6944}\label{class_o_c_c_1_1_sync_journal_db_ae9abb5e0f59f6df27f42153cd1df6944}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!set\+Download\+Info@{set\+Download\+Info}}
\index{set\+Download\+Info@{set\+Download\+Info}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{set\+Download\+Info()}{setDownloadInfo()}}
{\footnotesize\ttfamily void O\+C\+C\+::\+Sync\+Journal\+Db\+::set\+Download\+Info (\begin{DoxyParamCaption}\item[{const Q\+String \&}]{file,  }\item[{const \hyperlink{struct_o_c_c_1_1_sync_journal_db_1_1_download_info}{Download\+Info} \&}]{i }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 1185 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_a7cda6a2adf1377b4a45f97cc2709c6fe}\label{class_o_c_c_1_1_sync_journal_db_a7cda6a2adf1377b4a45f97cc2709c6fe}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!set\+File\+Record@{set\+File\+Record}}
\index{set\+File\+Record@{set\+File\+Record}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{set\+File\+Record()}{setFileRecord()}}
{\footnotesize\ttfamily bool O\+C\+C\+::\+Sync\+Journal\+Db\+::set\+File\+Record (\begin{DoxyParamCaption}\item[{const \hyperlink{class_o_c_c_1_1_sync_journal_file_record}{Sync\+Journal\+File\+Record} \&}]{record }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 800 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_a8e993d611a0de32fa32c478efd629474}\label{class_o_c_c_1_1_sync_journal_db_a8e993d611a0de32fa32c478efd629474}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!set\+File\+Record\+Metadata@{set\+File\+Record\+Metadata}}
\index{set\+File\+Record\+Metadata@{set\+File\+Record\+Metadata}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{set\+File\+Record\+Metadata()}{setFileRecordMetadata()}}
{\footnotesize\ttfamily bool O\+C\+C\+::\+Sync\+Journal\+Db\+::set\+File\+Record\+Metadata (\begin{DoxyParamCaption}\item[{const \hyperlink{class_o_c_c_1_1_sync_journal_file_record}{Sync\+Journal\+File\+Record} \&}]{record }\end{DoxyParamCaption})}



Like set\+File\+Record, but preserves checksums 



在文件 syncjournaldb.\+cpp 第 1107 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_a9a7cc2345914fbe7b636c2d05ba2400c}\label{class_o_c_c_1_1_sync_journal_db_a9a7cc2345914fbe7b636c2d05ba2400c}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!set\+Poll\+Info@{set\+Poll\+Info}}
\index{set\+Poll\+Info@{set\+Poll\+Info}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{set\+Poll\+Info()}{setPollInfo()}}
{\footnotesize\ttfamily void O\+C\+C\+::\+Sync\+Journal\+Db\+::set\+Poll\+Info (\begin{DoxyParamCaption}\item[{const \hyperlink{struct_o_c_c_1_1_sync_journal_db_1_1_poll_info}{Poll\+Info} \&}]{info }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 1547 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_acc27e00e5daa1643fe9c356e7c4bb34e}\label{class_o_c_c_1_1_sync_journal_db_acc27e00e5daa1643fe9c356e7c4bb34e}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!set\+Selective\+Sync\+List@{set\+Selective\+Sync\+List}}
\index{set\+Selective\+Sync\+List@{set\+Selective\+Sync\+List}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{set\+Selective\+Sync\+List()}{setSelectiveSyncList()}}
{\footnotesize\ttfamily void O\+C\+C\+::\+Sync\+Journal\+Db\+::set\+Selective\+Sync\+List (\begin{DoxyParamCaption}\item[{\hyperlink{class_o_c_c_1_1_sync_journal_db_ad028daa35155c92ce2e3863602f9feeb}{Sync\+Journal\+Db\+::\+Selective\+Sync\+List\+Type}}]{type,  }\item[{const Q\+String\+List \&}]{list }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 1606 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_a7a5b11baa13b62617fe72bacaf07b0bc}\label{class_o_c_c_1_1_sync_journal_db_a7a5b11baa13b62617fe72bacaf07b0bc}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!set\+Upload\+Info@{set\+Upload\+Info}}
\index{set\+Upload\+Info@{set\+Upload\+Info}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{set\+Upload\+Info()}{setUploadInfo()}}
{\footnotesize\ttfamily void O\+C\+C\+::\+Sync\+Journal\+Db\+::set\+Upload\+Info (\begin{DoxyParamCaption}\item[{const Q\+String \&}]{file,  }\item[{const \hyperlink{struct_o_c_c_1_1_sync_journal_db_1_1_upload_info}{Upload\+Info} \&}]{i }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 1308 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_a0781a2d4c5bb4dae808669d5a9fa4c87}\label{class_o_c_c_1_1_sync_journal_db_a0781a2d4c5bb4dae808669d5a9fa4c87}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!update\+Error\+Blacklist\+Entry@{update\+Error\+Blacklist\+Entry}}
\index{update\+Error\+Blacklist\+Entry@{update\+Error\+Blacklist\+Entry}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{update\+Error\+Blacklist\+Entry()}{updateErrorBlacklistEntry()}}
{\footnotesize\ttfamily void O\+C\+C\+::\+Sync\+Journal\+Db\+::update\+Error\+Blacklist\+Entry (\begin{DoxyParamCaption}\item[{const \hyperlink{class_o_c_c_1_1_sync_journal_error_blacklist_record}{Sync\+Journal\+Error\+Blacklist\+Record} \&}]{item }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 1492 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_a9ebef1639495b1e4a3a1020398398e3e}\label{class_o_c_c_1_1_sync_journal_db_a9ebef1639495b1e4a3a1020398398e3e}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!update\+File\+Record\+Checksum@{update\+File\+Record\+Checksum}}
\index{update\+File\+Record\+Checksum@{update\+File\+Record\+Checksum}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{update\+File\+Record\+Checksum()}{updateFileRecordChecksum()}}
{\footnotesize\ttfamily bool O\+C\+C\+::\+Sync\+Journal\+Db\+::update\+File\+Record\+Checksum (\begin{DoxyParamCaption}\item[{const Q\+String \&}]{filename,  }\item[{const Q\+Byte\+Array \&}]{content\+Checksum,  }\item[{const Q\+Byte\+Array \&}]{content\+Checksum\+Type }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 1039 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_a10e0e51ee7737909a9819752809ea29d}\label{class_o_c_c_1_1_sync_journal_db_a10e0e51ee7737909a9819752809ea29d}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!update\+Local\+Metadata@{update\+Local\+Metadata}}
\index{update\+Local\+Metadata@{update\+Local\+Metadata}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{update\+Local\+Metadata()}{updateLocalMetadata()}}
{\footnotesize\ttfamily bool O\+C\+C\+::\+Sync\+Journal\+Db\+::update\+Local\+Metadata (\begin{DoxyParamCaption}\item[{const Q\+String \&}]{filename,  }\item[{qint64}]{modtime,  }\item[{quint64}]{size,  }\item[{quint64}]{inode }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 1073 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_a30d98508c16ced8a1ea460df3e54194c}\label{class_o_c_c_1_1_sync_journal_db_a30d98508c16ced8a1ea460df3e54194c}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!wal\+Checkpoint@{wal\+Checkpoint}}
\index{wal\+Checkpoint@{wal\+Checkpoint}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{wal\+Checkpoint()}{walCheckpoint()}}
{\footnotesize\ttfamily void O\+C\+C\+::\+Sync\+Journal\+Db\+::wal\+Checkpoint (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 108 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_a7e0b5118926f33ed5cf4d4774a7c820d}\label{class_o_c_c_1_1_sync_journal_db_a7e0b5118926f33ed5cf4d4774a7c820d}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!wipe\+Error\+Blacklist@{wipe\+Error\+Blacklist}}
\index{wipe\+Error\+Blacklist@{wipe\+Error\+Blacklist}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{wipe\+Error\+Blacklist()}{wipeErrorBlacklist()}}
{\footnotesize\ttfamily int O\+C\+C\+::\+Sync\+Journal\+Db\+::wipe\+Error\+Blacklist (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 1456 行定义.

\mbox{\Hypertarget{class_o_c_c_1_1_sync_journal_db_acc9083fdf5df19c2ed20f1bc8f907e78}\label{class_o_c_c_1_1_sync_journal_db_acc9083fdf5df19c2ed20f1bc8f907e78}} 
\index{O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}!wipe\+Error\+Blacklist\+Entry@{wipe\+Error\+Blacklist\+Entry}}
\index{wipe\+Error\+Blacklist\+Entry@{wipe\+Error\+Blacklist\+Entry}!O\+C\+C\+::\+Sync\+Journal\+Db@{O\+C\+C\+::\+Sync\+Journal\+Db}}
\subsubsection{\texorpdfstring{wipe\+Error\+Blacklist\+Entry()}{wipeErrorBlacklistEntry()}}
{\footnotesize\ttfamily void O\+C\+C\+::\+Sync\+Journal\+Db\+::wipe\+Error\+Blacklist\+Entry (\begin{DoxyParamCaption}\item[{const Q\+String \&}]{file }\end{DoxyParamCaption})}



在文件 syncjournaldb.\+cpp 第 1473 行定义.



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
bin/\+Debug/test/电信学院/项目1/原版客户端重点查看文件/libsync/\hyperlink{syncjournaldb_8h}{syncjournaldb.\+h}\item 
bin/\+Debug/test/电信学院/项目1/原版客户端重点查看文件/libsync/\hyperlink{syncjournaldb_8cpp}{syncjournaldb.\+cpp}\end{DoxyCompactItemize}

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>custom_cloud: bin/Debug/test/电信学院/项目1/原版客户端重点查看文件/libsync/checksums.cpp 文件参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="cloudDisk.ico"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">custom_cloud
   &#160;<span id="projectnumber">beta 1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('checksums_8cpp.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">命名空间</a> &#124;
<a href="#func-members">函数</a>  </div>
  <div class="headertitle">
<div class="title">checksums.cpp 文件参考</div>  </div>
</div><!--header-->
<div class="contents">

<p>Computing and validating file checksums  
<a href="#details">更多...</a></p>
<div class="textblock"><code>#include &quot;config.h&quot;</code><br />
<code>#include &quot;<a class="el" href="filesystem_8h_source.html">filesystem.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="checksums_8h_source.html">checksums.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="syncfileitem_8h_source.html">syncfileitem.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="propagatorjobs_8h_source.html">propagatorjobs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="account_8h_source.html">account.h</a>&quot;</code><br />
<code>#include &lt;qtconcurrentrun.h&gt;</code><br />
</div>
<p><a href="checksums_8cpp_source.html">浏览源代码.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
命名空间</h2></td></tr>
<tr class="memitem:namespace_o_c_c"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_o_c_c.html">OCC</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:a2f13fc062a188027ffc2939363bcb37f"><td class="memItemLeft" align="right" valign="top">QByteArray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_o_c_c.html#a2f13fc062a188027ffc2939363bcb37f">OCC::makeChecksumHeader</a> (const QByteArray &amp;checksumType, const QByteArray &amp;checksum)</td></tr>
<tr class="memdesc:a2f13fc062a188027ffc2939363bcb37f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a checksum header from type and value.  <a href="namespace_o_c_c.html#a2f13fc062a188027ffc2939363bcb37f">更多...</a><br /></td></tr>
<tr class="separator:a2f13fc062a188027ffc2939363bcb37f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d9ed0cd51d8709a9253e00f2f203cab"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_o_c_c.html#a4d9ed0cd51d8709a9253e00f2f203cab">OCC::parseChecksumHeader</a> (const QByteArray &amp;header, QByteArray *type, QByteArray *checksum)</td></tr>
<tr class="memdesc:a4d9ed0cd51d8709a9253e00f2f203cab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses a checksum header  <a href="namespace_o_c_c.html#a4d9ed0cd51d8709a9253e00f2f203cab">更多...</a><br /></td></tr>
<tr class="separator:a4d9ed0cd51d8709a9253e00f2f203cab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7010e2fa7bcdda9e53981df6d8efb3c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_o_c_c.html#aa7010e2fa7bcdda9e53981df6d8efb3c">OCC::uploadChecksumEnabled</a> ()</td></tr>
<tr class="memdesc:aa7010e2fa7bcdda9e53981df6d8efb3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks OWNCLOUD_DISABLE_CHECKSUM_UPLOAD  <a href="namespace_o_c_c.html#aa7010e2fa7bcdda9e53981df6d8efb3c">更多...</a><br /></td></tr>
<tr class="separator:aa7010e2fa7bcdda9e53981df6d8efb3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6341c56b4b72b2fcc60449285f9f7c38"><td class="memItemLeft" align="right" valign="top">QByteArray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_o_c_c.html#a6341c56b4b72b2fcc60449285f9f7c38">OCC::contentChecksumType</a> ()</td></tr>
<tr class="memdesc:a6341c56b4b72b2fcc60449285f9f7c38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks OWNCLOUD_CONTENT_CHECKSUM_TYPE (default: SHA1)  <a href="namespace_o_c_c.html#a6341c56b4b72b2fcc60449285f9f7c38">更多...</a><br /></td></tr>
<tr class="separator:a6341c56b4b72b2fcc60449285f9f7c38"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>Computing and validating file checksums </p>
<h2>Overview </h2>
<p>Checksums are used in two distinct ways during synchronization:</p>
<ul>
<li>to guard uploads and downloads against data corruption (transmission checksum)</li>
<li>to quickly check whether the content of a file has changed to avoid redundant uploads (content checksum)</li>
</ul>
<p>In principle both are independent and different checksumming algorithms can be used. To avoid redundant computations, it can make sense to use the same checksum algorithm though.</p>
<h2>Transmission Checksums </h2>
<p>The usage of transmission checksums is currently optional and needs to be explicitly enabled by adding 'transmissionChecksum=TYPE' to the '[General]' section of the config file.</p>
<p>When enabled, the checksum will be calculated on upload and sent to the server in the OC-Checksum header with the format 'TYPE:CHECKSUM'.</p>
<p>On download, the header with the same name is read and if the received data does not have the expected checksum, the download is rejected.</p>
<p>Transmission checksums guard a specific sync action and are not stored in the database.</p>
<h2>Content Checksums </h2>
<p>Sometimes the metadata of a local file changes while the content stays unchanged. Content checksums allow the sync client to avoid uploading the same data again by comparing the file's actual checksum to the checksum stored in the database.</p>
<p>Content checksums are not sent to the server.</p>
<h2>Checksum Algorithms </h2>
<ul>
<li>Adler32 (requires zlib)</li>
<li>MD5</li>
<li>SHA1 </li>
</ul>

<p class="definition">在文件 <a class="el" href="checksums_8cpp_source.html">checksums.cpp</a> 中定义.</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2ea30aa2956a8db99dd22aa5e597f384.html">bin</a></li><li class="navelem"><a class="el" href="dir_68323fab176bfe54037497825ea333b7.html">Debug</a></li><li class="navelem"><a class="el" href="dir_afadbdb0d604d0d22a8010832dff3c61.html">test</a></li><li class="navelem"><a class="el" href="dir_256aa8edf46cb4fcaa9a29b7f3573a58.html">电信学院</a></li><li class="navelem"><a class="el" href="dir_18797cbe5f25b44a71d6e80cf0f67158.html">项目1</a></li><li class="navelem"><a class="el" href="dir_98ddbcc3e8c52c992baf60b9c88f60d6.html">原版客户端重点查看文件</a></li><li class="navelem"><a class="el" href="dir_60de4f1fe23b9bd67e2c9cc91aab828c.html">libsync</a></li><li class="navelem"><a class="el" href="checksums_8cpp.html">checksums.cpp</a></li>
    <li class="footer">制作者
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
